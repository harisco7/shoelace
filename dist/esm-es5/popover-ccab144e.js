var top="top";var bottom="bottom";var right="right";var left="left";var auto="auto";var basePlacements=[top,bottom,right,left];var start="start";var end="end";var clippingParents="clippingParents";var viewport="viewport";var popper="popper";var reference="reference";var variationPlacements=basePlacements.reduce((function(e,t){return e.concat([t+"-"+start,t+"-"+end])}),[]);var placements=[].concat(basePlacements,[auto]).reduce((function(e,t){return e.concat([t,t+"-"+start,t+"-"+end])}),[]);var beforeRead="beforeRead";var read="read";var afterRead="afterRead";var beforeMain="beforeMain";var main="main";var afterMain="afterMain";var beforeWrite="beforeWrite";var write="write";var afterWrite="afterWrite";var modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getWindow(e){if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t?t.defaultView||window:window}return e}function isElement(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{};var n=t.attributes[e]||{};var i=t.elements[e];if(!isHTMLElement(i)||!getNodeName(i)){return}Object.assign(i.style,r);Object.keys(n).forEach((function(e){var t=n[e];if(t===false){i.removeAttribute(e)}else{i.setAttribute(e,t===true?"":t)}}))}))}function effect(e){var t=e.state;var r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper);if(t.elements.arrow){Object.assign(t.elements.arrow.style,r.arrow)}return function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e];var i=t.attributes[e]||{};var o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]);var a=o.reduce((function(e,t){e[t]="";return e}),{});if(!isHTMLElement(n)||!getNodeName(n)){return}Object.assign(n.style,a);Object.keys(i).forEach((function(e){n.removeAttribute(e)}))}))}}var applyStyles$1={name:"applyStyles",enabled:true,phase:"write",fn:applyStyles,effect:effect,requires:["computeStyles"]};function getBasePlacement(e){return e.split("-")[0]}function getLayoutRect(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function contains(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t)){return true}else if(isShadowRoot(r)){var n=t;do{if(n&&e.isSameNode(n)){return true}n=n.parentNode||n.host}while(n)}return false}function getComputedStyle(e){return getWindow(e).getComputedStyle(e)}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getParentNode(e){if(getNodeName(e)==="html"){return e}return e.assignedSlot||e.parentNode||e.host||getDocumentElement(e)}function getTrueOffsetParent(e){if(!isHTMLElement(e)||getComputedStyle(e).position==="fixed"){return null}var t=e.offsetParent;if(t){var r=getDocumentElement(t);if(getNodeName(t)==="body"&&getComputedStyle(t).position==="static"&&getComputedStyle(r).position!=="static"){return r}}return t}function getContainingBlock(e){var t=getParentNode(e);while(isHTMLElement(t)&&["html","body"].indexOf(getNodeName(t))<0){var r=getComputedStyle(t);if(r.transform!=="none"||r.perspective!=="none"||r.willChange&&r.willChange!=="auto"){return t}else{t=t.parentNode}}return null}function getOffsetParent(e){var t=getWindow(e);var r=getTrueOffsetParent(e);while(r&&isTableElement(r)&&getComputedStyle(r).position==="static"){r=getTrueOffsetParent(r)}if(r&&getNodeName(r)==="body"&&getComputedStyle(r).position==="static"){return t}return r||getContainingBlock(e)||t}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function within(e,t,r){return Math.max(e,Math.min(t,r))}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign(Object.assign({},getFreshSideObject()),e)}function expandToHashMap(e,t){return t.reduce((function(t,r){t[r]=e;return t}),{})}function arrow(e){var t;var r=e.state,n=e.name;var i=r.elements.arrow;var o=r.modifiersData.popperOffsets;var a=getBasePlacement(r.placement);var s=getMainAxisFromPlacement(a);var f=[left,right].indexOf(a)>=0;var p=f?"height":"width";if(!i||!o){return}var c=r.modifiersData[n+"#persistent"].padding;var l=getLayoutRect(i);var d=s==="y"?top:left;var u=s==="y"?bottom:right;var v=r.rects.reference[p]+r.rects.reference[s]-o[s]-r.rects.popper[p];var m=o[s]-r.rects.reference[s];var g=getOffsetParent(i);var h=g?s==="y"?g.clientHeight||0:g.clientWidth||0:0;var b=v/2-m/2;var y=c[d];var O=h-l[p]-c[u];var w=h/2-l[p]/2+b;var x=within(y,w,O);var P=s;r.modifiersData[n]=(t={},t[P]=x,t.centerOffset=x-w,t)}function effect$1(e){var t=e.state,r=e.options,n=e.name;var i=r.element,o=i===void 0?"[data-popper-arrow]":i,a=r.padding,s=a===void 0?0:a;if(o==null){return}if(typeof o==="string"){o=t.elements.popper.querySelector(o);if(!o){return}}if(!contains(t.elements.popper,o)){return}t.elements.arrow=o;t.modifiersData[n+"#persistent"]={padding:mergePaddingObject(typeof s!=="number"?s:expandToHashMap(s,basePlacements))}}var arrow$1={name:"arrow",enabled:true,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsets(e){var t=e.x,r=e.y;var n=window;var i=n.devicePixelRatio||1;return{x:Math.round(t*i)/i||0,y:Math.round(r*i)/i||0}}function mapToStyles(e){var t;var r=e.popper,n=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,f=e.adaptive;var p=roundOffsets(o),c=p.x,l=p.y;var d=o.hasOwnProperty("x");var u=o.hasOwnProperty("y");var v=left;var m=top;var g=window;if(f){var h=getOffsetParent(r);if(h===getWindow(r)){h=getDocumentElement(r)}if(i===top){m=bottom;l-=h.clientHeight-n.height;l*=s?1:-1}if(i===left){v=right;c-=h.clientWidth-n.width;c*=s?1:-1}}var b=Object.assign({position:a},f&&unsetSides);if(s){var y;return Object.assign(Object.assign({},b),{},(y={},y[m]=u?"0":"",y[v]=d?"0":"",y.transform=(g.devicePixelRatio||1)<2?"translate("+c+"px, "+l+"px)":"translate3d("+c+"px, "+l+"px, 0)",y))}return Object.assign(Object.assign({},b),{},(t={},t[m]=u?l+"px":"",t[v]=d?c+"px":"",t.transform="",t))}function computeStyles(e){var t=e.state,r=e.options;var n=r.gpuAcceleration,i=n===void 0?true:n,o=r.adaptive,a=o===void 0?true:o;var s={placement:getBasePlacement(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};if(t.modifiersData.popperOffsets!=null){t.styles.popper=Object.assign(Object.assign({},t.styles.popper),mapToStyles(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))}if(t.modifiersData.arrow!=null){t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),mapToStyles(Object.assign(Object.assign({},s),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:false})))}t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})}var computeStyles$1={name:"computeStyles",enabled:true,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:true};function effect$2(e){var t=e.state,r=e.instance,n=e.options;var i=n.scroll,o=i===void 0?true:i,a=n.resize,s=a===void 0?true:a;var f=getWindow(t.elements.popper);var p=[].concat(t.scrollParents.reference,t.scrollParents.popper);if(o){p.forEach((function(e){e.addEventListener("scroll",r.update,passive)}))}if(s){f.addEventListener("resize",r.update,passive)}return function(){if(o){p.forEach((function(e){e.removeEventListener("scroll",r.update,passive)}))}if(s){f.removeEventListener("resize",r.update,passive)}}}var eventListeners={name:"eventListeners",enabled:true,phase:"write",fn:function e(){},effect:effect$2,data:{}};var hash={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,(function(e){return hash[e]}))}var hash$1={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,(function(e){return hash$1[e]}))}function getBoundingClientRect(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function getWindowScroll(e){var t=getWindow(e);var r=t.pageXOffset;var n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getViewportRect(e){var t=getWindow(e);var r=getDocumentElement(e);var n=t.visualViewport;var i=r.clientWidth;var o=r.clientHeight;var a=0;var s=0;if(n){i=n.width;o=n.height;if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){a=n.offsetLeft;s=n.offsetTop}}return{width:i,height:o,x:a+getWindowScrollBarX(e),y:s}}function getDocumentRect(e){var t=getDocumentElement(e);var r=getWindowScroll(e);var n=e.ownerDocument.body;var i=Math.max(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0);var o=Math.max(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0);var a=-r.scrollLeft+getWindowScrollBarX(e);var s=-r.scrollTop;if(getComputedStyle(n||t).direction==="rtl"){a+=Math.max(t.clientWidth,n?n.clientWidth:0)-i}return{width:i,height:o,x:a,y:s}}function isScrollParent(e){var t=getComputedStyle(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function getScrollParent(e){if(["html","body","#document"].indexOf(getNodeName(e))>=0){return e.ownerDocument.body}if(isHTMLElement(e)&&isScrollParent(e)){return e}return getScrollParent(getParentNode(e))}function listScrollParents(e,t){if(t===void 0){t=[]}var r=getScrollParent(e);var n=getNodeName(r)==="body";var i=getWindow(r);var o=n?[i].concat(i.visualViewport||[],isScrollParent(r)?r:[]):r;var a=t.concat(o);return n?a:a.concat(listScrollParents(getParentNode(o)))}function rectToClientRect(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e){var t=getBoundingClientRect(e);t.top=t.top+e.clientTop;t.left=t.left+e.clientLeft;t.bottom=t.top+e.clientHeight;t.right=t.left+e.clientWidth;t.width=e.clientWidth;t.height=e.clientHeight;t.x=t.left;t.y=t.top;return t}function getClientRectFromMixedType(e,t){return t===viewport?rectToClientRect(getViewportRect(e)):isHTMLElement(t)?getInnerBoundingClientRect(t):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e));var r=["absolute","fixed"].indexOf(getComputedStyle(e).position)>=0;var n=r&&isHTMLElement(e)?getOffsetParent(e):e;if(!isElement(n)){return[]}return t.filter((function(e){return isElement(e)&&contains(e,n)&&getNodeName(e)!=="body"}))}function getClippingRect(e,t,r){var n=t==="clippingParents"?getClippingParents(e):[].concat(t);var i=[].concat(n,[r]);var o=i[0];var a=i.reduce((function(t,r){var n=getClientRectFromMixedType(e,r);t.top=Math.max(n.top,t.top);t.right=Math.min(n.right,t.right);t.bottom=Math.min(n.bottom,t.bottom);t.left=Math.max(n.left,t.left);return t}),getClientRectFromMixedType(e,o));a.width=a.right-a.left;a.height=a.bottom-a.top;a.x=a.left;a.y=a.top;return a}function getVariation(e){return e.split("-")[1]}function computeOffsets(e){var t=e.reference,r=e.element,n=e.placement;var i=n?getBasePlacement(n):null;var o=n?getVariation(n):null;var a=t.x+t.width/2-r.width/2;var s=t.y+t.height/2-r.height/2;var f;switch(i){case top:f={x:a,y:t.y-r.height};break;case bottom:f={x:a,y:t.y+t.height};break;case right:f={x:t.x+t.width,y:s};break;case left:f={x:t.x-r.width,y:s};break;default:f={x:t.x,y:t.y}}var p=i?getMainAxisFromPlacement(i):null;if(p!=null){var c=p==="y"?"height":"width";switch(o){case start:f[p]=Math.floor(f[p])-Math.floor(t[c]/2-r[c]/2);break;case end:f[p]=Math.floor(f[p])+Math.ceil(t[c]/2-r[c]/2);break}}return f}function detectOverflow(e,t){if(t===void 0){t={}}var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.boundary,a=o===void 0?clippingParents:o,s=r.rootBoundary,f=s===void 0?viewport:s,p=r.elementContext,c=p===void 0?popper:p,l=r.altBoundary,d=l===void 0?false:l,u=r.padding,v=u===void 0?0:u;var m=mergePaddingObject(typeof v!=="number"?v:expandToHashMap(v,basePlacements));var g=c===popper?reference:popper;var h=e.elements.reference;var b=e.rects.popper;var y=e.elements[d?g:c];var O=getClippingRect(isElement(y)?y:y.contextElement||getDocumentElement(e.elements.popper),a,f);var w=getBoundingClientRect(h);var x=computeOffsets({reference:w,element:b,strategy:"absolute",placement:i});var P=rectToClientRect(Object.assign(Object.assign({},b),x));var E=c===popper?P:w;var S={top:O.top-E.top+m.top,bottom:E.bottom-O.bottom+m.bottom,left:O.left-E.left+m.left,right:E.right-O.right+m.right};var M=e.modifiersData.offset;if(c===popper&&M){var j=M[i];Object.keys(S).forEach((function(e){var t=[right,bottom].indexOf(e)>=0?1:-1;var r=[top,bottom].indexOf(e)>=0?"y":"x";S[e]+=j[r]*t}))}return S}function computeAutoPlacement(e,t){if(t===void 0){t={}}var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,f=r.allowedAutoPlacements,p=f===void 0?placements:f;var c=getVariation(n);var l=c?s?variationPlacements:variationPlacements.filter((function(e){return getVariation(e)===c})):basePlacements;var d=l.filter((function(e){return p.indexOf(e)>=0}));if(d.length===0){d=l}var u=d.reduce((function(t,r){t[r]=detectOverflow(e,{placement:r,boundary:i,rootBoundary:o,padding:a})[getBasePlacement(r)];return t}),{});return Object.keys(u).sort((function(e,t){return u[e]-u[t]}))}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===auto){return[]}var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function flip(e){var t=e.state,r=e.options,n=e.name;if(t.modifiersData[n]._skip){return}var i=r.mainAxis,o=i===void 0?true:i,a=r.altAxis,s=a===void 0?true:a,f=r.fallbackPlacements,p=r.padding,c=r.boundary,l=r.rootBoundary,d=r.altBoundary,u=r.flipVariations,v=u===void 0?true:u,m=r.allowedAutoPlacements;var g=t.options.placement;var h=getBasePlacement(g);var b=h===g;var y=f||(b||!v?[getOppositePlacement(g)]:getExpandedFallbackPlacements(g));var O=[g].concat(y).reduce((function(e,r){return e.concat(getBasePlacement(r)===auto?computeAutoPlacement(t,{placement:r,boundary:c,rootBoundary:l,padding:p,flipVariations:v,allowedAutoPlacements:m}):r)}),[]);var w=t.rects.reference;var x=t.rects.popper;var P=new Map;var E=true;var S=O[0];for(var M=0;M<O.length;M++){var j=O[M];var T=getBasePlacement(j);var C=getVariation(j)===start;var L=[top,bottom].indexOf(T)>=0;var R=L?"width":"height";var D=detectOverflow(t,{placement:j,boundary:c,rootBoundary:l,altBoundary:d,padding:p});var B=L?C?right:left:C?bottom:top;if(w[R]>x[R]){B=getOppositePlacement(B)}var N=getOppositePlacement(B);var A=[];if(o){A.push(D[T]<=0)}if(s){A.push(D[B]<=0,D[N]<=0)}if(A.every((function(e){return e}))){S=j;E=false;break}P.set(j,A)}if(E){var W=v?3:1;var H=function e(t){var r=O.find((function(e){var r=P.get(e);if(r){return r.slice(0,t).every((function(e){return e}))}}));if(r){S=r;return"break"}};for(var k=W;k>0;k--){var V=H(k);if(V==="break")break}}if(t.placement!==S){t.modifiersData[n]._skip=true;t.placement=S;t.reset=true}}var flip$1={name:"flip",enabled:true,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:false}};function getSideOffsets(e,t,r){if(r===void 0){r={x:0,y:0}}return{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function isAnySideFullyClipped(e){return[top,right,bottom,left].some((function(t){return e[t]>=0}))}function hide(e){var t=e.state,r=e.name;var n=t.rects.reference;var i=t.rects.popper;var o=t.modifiersData.preventOverflow;var a=detectOverflow(t,{elementContext:"reference"});var s=detectOverflow(t,{altBoundary:true});var f=getSideOffsets(a,n);var p=getSideOffsets(s,i,o);var c=isAnySideFullyClipped(f);var l=isAnySideFullyClipped(p);t.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:c,hasPopperEscaped:l};t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":c,"data-popper-escaped":l})}var hide$1={name:"hide",enabled:true,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(e,t,r){var n=getBasePlacement(e);var i=[left,top].indexOf(n)>=0?-1:1;var o=typeof r==="function"?r(Object.assign(Object.assign({},t),{},{placement:e})):r,a=o[0],s=o[1];a=a||0;s=(s||0)*i;return[left,right].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function offset(e){var t=e.state,r=e.options,n=e.name;var i=r.offset,o=i===void 0?[0,0]:i;var a=placements.reduce((function(e,r){e[r]=distanceAndSkiddingToXY(r,t.rects,o);return e}),{});var s=a[t.placement],f=s.x,p=s.y;if(t.modifiersData.popperOffsets!=null){t.modifiersData.popperOffsets.x+=f;t.modifiersData.popperOffsets.y+=p}t.modifiersData[n]=a}var offset$1={name:"offset",enabled:true,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(e){var t=e.state,r=e.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var popperOffsets$1={name:"popperOffsets",enabled:true,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(e){return e==="x"?"y":"x"}function preventOverflow(e){var t=e.state,r=e.options,n=e.name;var i=r.mainAxis,o=i===void 0?true:i,a=r.altAxis,s=a===void 0?false:a,f=r.boundary,p=r.rootBoundary,c=r.altBoundary,l=r.padding,d=r.tether,u=d===void 0?true:d,v=r.tetherOffset,m=v===void 0?0:v;var g=detectOverflow(t,{boundary:f,rootBoundary:p,padding:l,altBoundary:c});var h=getBasePlacement(t.placement);var b=getVariation(t.placement);var y=!b;var O=getMainAxisFromPlacement(h);var w=getAltAxis(O);var x=t.modifiersData.popperOffsets;var P=t.rects.reference;var E=t.rects.popper;var S=typeof m==="function"?m(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):m;var M={x:0,y:0};if(!x){return}if(o){var j=O==="y"?top:left;var T=O==="y"?bottom:right;var C=O==="y"?"height":"width";var L=x[O];var R=x[O]+g[j];var D=x[O]-g[T];var B=u?-E[C]/2:0;var N=b===start?P[C]:E[C];var A=b===start?-E[C]:-P[C];var W=t.elements.arrow;var H=u&&W?getLayoutRect(W):{width:0,height:0};var k=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject();var V=k[j];var F=k[T];var $=within(0,P[C],H[C]);var q=y?P[C]/2-B-$-V-S:N-$-V-S;var I=y?-P[C]/2+B+$+F+S:A+$+F+S;var X=t.elements.arrow&&getOffsetParent(t.elements.arrow);var U=X?O==="y"?X.clientTop||0:X.clientLeft||0:0;var _=t.modifiersData.offset?t.modifiersData.offset[t.placement][O]:0;var Y=x[O]+q-_-U;var z=x[O]+I-_;var G=within(u?Math.min(R,Y):R,L,u?Math.max(D,z):D);x[O]=G;M[O]=G-L}if(s){var J=O==="x"?top:left;var K=O==="x"?bottom:right;var Q=x[w];var Z=Q+g[J];var ee=Q-g[K];var te=within(Z,Q,ee);x[w]=te;M[w]=te-Q}t.modifiersData[n]=M}var preventOverflow$1={name:"preventOverflow",enabled:true,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){if(e===getWindow(e)||!isHTMLElement(e)){return getWindowScroll(e)}else{return getHTMLElementScroll(e)}}function getCompositeRect(e,t,r){if(r===void 0){r=false}var n=getDocumentElement(t);var i=getBoundingClientRect(e);var o=isHTMLElement(t);var a={scrollLeft:0,scrollTop:0};var s={x:0,y:0};if(o||!o&&!r){if(getNodeName(t)!=="body"||isScrollParent(n)){a=getNodeScroll(t)}if(isHTMLElement(t)){s=getBoundingClientRect(t);s.x+=t.clientLeft;s.y+=t.clientTop}else if(n){s.x=getWindowScrollBarX(n)}}return{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function order(e){var t=new Map;var r=new Set;var n=[];e.forEach((function(e){t.set(e.name,e)}));function i(e){r.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!r.has(e)){var n=t.get(e);if(n){i(n)}}}));n.push(e)}e.forEach((function(e){if(!r.has(e.name)){i(e)}}));return n}function orderModifiers(e){var t=order(e);return modifierPhases.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}function debounce(e){var t;return function(){if(!t){t=new Promise((function(r){Promise.resolve().then((function(){t=undefined;r(e())}))}))}return t}}function mergeByName(e){var t=e.reduce((function(e,t){var r=e[t.name];e[t.name]=r?Object.assign(Object.assign(Object.assign({},r),t),{},{options:Object.assign(Object.assign({},r.options),t.options),data:Object.assign(Object.assign({},r.data),t.data)}):t;return e}),{});return Object.keys(t).map((function(e){return t[e]}))}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return!t.some((function(e){return!(e&&typeof e.getBoundingClientRect==="function")}))}function popperGenerator(e){if(e===void 0){e={}}var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?DEFAULT_OPTIONS:i;return function e(t,r,i){if(i===void 0){i=o}var a={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},DEFAULT_OPTIONS),o),modifiersData:{},elements:{reference:t,popper:r},attributes:{},styles:{}};var s=[];var f=false;var p={state:a,setOptions:function e(i){l();a.options=Object.assign(Object.assign(Object.assign({},o),a.options),i);a.scrollParents={reference:isElement(t)?listScrollParents(t):t.contextElement?listScrollParents(t.contextElement):[],popper:listScrollParents(r)};var s=orderModifiers(mergeByName([].concat(n,a.options.modifiers)));a.orderedModifiers=s.filter((function(e){return e.enabled}));c();return p.update()},forceUpdate:function e(){if(f){return}var t=a.elements,r=t.reference,n=t.popper;if(!areValidElements(r,n)){return}a.rects={reference:getCompositeRect(r,getOffsetParent(n),a.options.strategy==="fixed"),popper:getLayoutRect(n)};a.reset=false;a.placement=a.options.placement;a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++){if(a.reset===true){a.reset=false;i=-1;continue}var o=a.orderedModifiers[i],s=o.fn,c=o.options,l=c===void 0?{}:c,d=o.name;if(typeof s==="function"){a=s({state:a,options:l,name:d,instance:p})||a}}},update:debounce((function(){return new Promise((function(e){p.forceUpdate();e(a)}))})),destroy:function e(){l();f=true}};if(!areValidElements(t,r)){return p}p.setOptions(i).then((function(e){if(!f&&i.onFirstUpdate){i.onFirstUpdate(e)}}));function c(){a.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=r===void 0?{}:r,i=e.effect;if(typeof i==="function"){var o=i({state:a,name:t,instance:p,options:n});var f=function e(){};s.push(o||f)}}))}function l(){s.forEach((function(e){return e()}));s=[]}return p}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1];var createPopper=popperGenerator({defaultModifiers:defaultModifiers});var Popover=function(){function e(e,t,r){this.handleTransitionEnd=this.handleTransitionEnd.bind(this);this.anchor=e;this.popover=t;this.options=Object.assign({skidding:0,distance:0,placement:"bottom-start",strategy:"absolute",transitionElement:this.popover,visibleClass:"popover-visible",onAfterShow:function(){},onAfterHide:function(){},onTransitionEnd:function(){}},r);this.isVisible=false;this.popover.hidden=true;this.popover.classList.remove(this.options.visibleClass);this.popover.addEventListener("transitionend",this.handleTransitionEnd)}e.prototype.handleTransitionEnd=function(e){var t=e.target;if(t===this.options.transitionElement){this.options.onTransitionEnd.call(this,e);if(!this.isVisible&&!this.popover.hidden){this.popover.hidden=true;this.popover.classList.remove(this.options.visibleClass);this.options.onAfterHide.call(this)}}};e.prototype.destroy=function(){this.popover.removeEventListener("transitionend",this.handleTransitionEnd);if(this.popper){this.popper.destroy();this.popper=null}};e.prototype.show=function(){var e=this;this.isVisible=true;this.popover.hidden=false;requestAnimationFrame((function(){return e.popover.classList.add(e.options.visibleClass)}));if(this.popper){this.popper.destroy()}this.popper=createPopper(this.anchor,this.popover,{placement:this.options.placement,strategy:this.options.strategy,modifiers:[{name:"flip",options:{boundary:"viewport"}},{name:"offset",options:{offset:[this.options.skidding,this.options.distance]}}]});this.popover.addEventListener("transitionend",(function(){return e.options.onAfterShow.call(e)}),{once:true});requestAnimationFrame((function(){return e.popper.update()}))};e.prototype.hide=function(){this.isVisible=false;this.popover.classList.remove(this.options.visibleClass)};e.prototype.setOptions=function(e){var t=this;this.options=Object.assign(this.options,e);this.isVisible?this.popover.classList.add(this.options.visibleClass):this.popover.classList.remove(this.options.visibleClass);if(this.popper){this.popper.setOptions({placement:this.options.placement,strategy:this.options.strategy});requestAnimationFrame((function(){return t.popper.update()}))}};return e}();export{Popover as P};
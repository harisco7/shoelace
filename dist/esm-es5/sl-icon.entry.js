var __awaiter=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n["throw"](e))}catch(t){o(t)}}function c(e){e.done?r(e.value):i(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(a){s=[6,a];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-a0f9580d.js";import{a as unwatchIcon,g as getLibrary,w as watchIcon}from"./icon-library-registry-4dfb0fe6.js";var iconFiles=new Map;var requestIcon=function(e){if(iconFiles.has(e)){return iconFiles.get(e)}else{var t=fetch(e).then((function(e){return __awaiter(void 0,void 0,void 0,(function(){var t,r,n;return __generator(this,(function(i){switch(i.label){case 0:if(!e.ok)return[3,2];t=document.createElement("div");r=t;return[4,e.text()];case 1:r.innerHTML=i.sent();n=t.firstElementChild;return[2,{ok:e.ok,status:e.status,svg:n&&n.tagName.toLowerCase()==="svg"?n.outerHTML:""}];case 2:return[2,{ok:e.ok,status:e.status,svg:null}]}}))}))}));iconFiles.set(e,t);return t}};var iconCss=":host{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}:host *,:host *:before,:host *:after{-webkit-box-sizing:inherit;box-sizing:inherit}:host{display:inline-block;width:1em;height:1em;contain:strict;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%}";var parser=new DOMParser;var Icon=function(){function e(e){registerInstance(this,e);this.slLoad=createEvent(this,"sl-load",7);this.slError=createEvent(this,"sl-error",7);this.library="default"}e.prototype.handleChange=function(){this.setIcon()};e.prototype.connectedCallback=function(){watchIcon(this.host)};e.prototype.componentDidLoad=function(){this.setIcon()};e.prototype.disconnectedCallback=function(){unwatchIcon(this.host)};e.prototype.redraw=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.setIcon();return[2]}))}))};e.prototype.getLabel=function(){var e="";if(this.label){e=this.label}else if(this.name){e=this.name.replace(/-/g," ")}else if(this.src){e=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.svg/i,"")}return e};e.prototype.setIcon=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,n,i,o;return __generator(this,(function(s){switch(s.label){case 0:e=getLibrary(this.library);t=this.src;if(this.name&&e){t=e.resolver(this.name)}if(!t)return[3,5];s.label=1;case 1:s.trys.push([1,3,,4]);return[4,requestIcon(t)];case 2:r=s.sent();if(r.ok){n=parser.parseFromString(r.svg,"text/html");i=n.body.querySelector("svg");if(i){if(e&&e.mutator){e.mutator(i)}this.svg=i.outerHTML;this.slLoad.emit()}else{this.svg="";this.slError.emit({status:r.status})}}return[3,4];case 3:o=s.sent();this.slError.emit();return[3,4];case 4:return[3,6];case 5:if(this.svg){this.svg=null}s.label=6;case 6:return[2]}}))}))};e.prototype.render=function(){return h("div",{part:"base",class:"icon",role:"img","aria-label":this.getLabel(),innerHTML:this.svg})};Object.defineProperty(e,"assetsDirs",{get:function(){return["icons"]},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{name:["handleChange"],src:["handleChange"],library:["handleChange"]}},enumerable:false,configurable:true});return e}();Icon.style=iconCss;export{Icon as sl_icon};
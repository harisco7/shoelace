var __awaiter=this&&this.__awaiter||function(r,e,t,a){function o(r){return r instanceof t?r:new t((function(e){e(r)}))}return new(t||(t=Promise))((function(t,n){function i(r){try{l(a.next(r))}catch(e){n(e)}}function s(r){try{l(a["throw"](r))}catch(e){n(e)}}function l(r){r.done?t(r.value):o(r.value).then(i,s)}l((a=a.apply(r,e||[])).next())}))};var __generator=this&&this.__generator||function(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,o,n,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(r){return function(e){return l([r,e])}}function l(i){if(a)throw new TypeError("Generator is already executing.");while(t)try{if(a=1,o&&(n=i[0]&2?o["return"]:i[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;if(o=0,n)i=[i[0]&2,n.value];switch(i[0]){case 0:case 1:n=i;break;case 4:t.label++;return{value:i[1],done:false};case 5:t.label++;o=i[1];i=[0];continue;case 7:i=t.ops.pop();t.trys.pop();continue;default:if(!(n=t.trys,n=n.length>0&&n[n.length-1])&&(i[0]===6||i[0]===2)){t=0;continue}if(i[0]===3&&(!n||i[1]>n[0]&&i[1]<n[3])){t.label=i[1];break}if(i[0]===6&&t.label<n[1]){t.label=n[1];n=i;break}if(n&&t.label<n[2]){t.label=n[2];t.ops.push(i);break}if(n[2])t.ops.pop();t.trys.pop();continue}i=e.call(r,t)}catch(s){i=[6,s];o=0}finally{a=n=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-a0f9580d.js";import{c as clamp}from"./math-bea7b221.js";function createCommonjsModule(r,e,t){return t={path:e,exports:{},require:function(r,e){return commonjsRequire()}},r(t,t.exports),t.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var isArrayish=function r(e){if(!e||typeof e==="string"){return false}return e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")};var simpleSwizzle=createCommonjsModule((function(r){var e=Array.prototype.concat;var t=Array.prototype.slice;var a=r.exports=function r(a){var o=[];for(var n=0,i=a.length;n<i;n++){var s=a[n];if(isArrayish(s)){o=e.call(o,t.call(s))}else{o.push(s)}}return o};a.wrap=function(r){return function(){return r(a(arguments))}}}));var colorString=createCommonjsModule((function(r){var e={};for(var t in colorName){if(colorName.hasOwnProperty(t)){e[colorName[t]]=t}}var a=r.exports={to:{},get:{}};a.get=function(r){var e=r.substring(0,3).toLowerCase();var t;var o;switch(e){case"hsl":t=a.get.hsl(r);o="hsl";break;case"hwb":t=a.get.hwb(r);o="hwb";break;default:t=a.get.rgb(r);o="rgb";break}if(!t){return null}return{model:o,value:t}};a.get.rgb=function(r){if(!r){return null}var e=/^#([a-f0-9]{3,4})$/i;var t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i;var a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var i=/(\D+)/;var s=[0,0,0,1];var l;var h;var c;if(l=r.match(t)){c=l[2];l=l[1];for(h=0;h<3;h++){var u=h*2;s[h]=parseInt(l.slice(u,u+2),16)}if(c){s[3]=Math.round(parseInt(c,16)/255*100)/100}}else if(l=r.match(e)){l=l[1];c=l[3];for(h=0;h<3;h++){s[h]=parseInt(l[h]+l[h],16)}if(c){s[3]=Math.round(parseInt(c+c,16)/255*100)/100}}else if(l=r.match(a)){for(h=0;h<3;h++){s[h]=parseInt(l[h+1],0)}if(l[4]){s[3]=parseFloat(l[4])}}else if(l=r.match(n)){for(h=0;h<3;h++){s[h]=Math.round(parseFloat(l[h+1])*2.55)}if(l[4]){s[3]=parseFloat(l[4])}}else if(l=r.match(i)){if(l[1]==="transparent"){return[0,0,0,0]}s=colorName[l[1]];if(!s){return null}s[3]=1;return s}else{return null}for(h=0;h<3;h++){s[h]=o(s[h],0,255)}s[3]=o(s[3],0,1);return s};a.get.hsl=function(r){if(!r){return null}var e=/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var t=r.match(e);if(t){var a=parseFloat(t[4]);var n=(parseFloat(t[1])+360)%360;var i=o(parseFloat(t[2]),0,100);var s=o(parseFloat(t[3]),0,100);var l=o(isNaN(a)?1:a,0,1);return[n,i,s,l]}return null};a.get.hwb=function(r){if(!r){return null}var e=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var t=r.match(e);if(t){var a=parseFloat(t[4]);var n=(parseFloat(t[1])%360+360)%360;var i=o(parseFloat(t[2]),0,100);var s=o(parseFloat(t[3]),0,100);var l=o(isNaN(a)?1:a,0,1);return[n,i,s,l]}return null};a.to.hex=function(){var r=simpleSwizzle(arguments);return"#"+n(r[0])+n(r[1])+n(r[2])+(r[3]<1?n(Math.round(r[3]*255)):"")};a.to.rgb=function(){var r=simpleSwizzle(arguments);return r.length<4||r[3]===1?"rgb("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+")":"rgba("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+", "+r[3]+")"};a.to.rgb.percent=function(){var r=simpleSwizzle(arguments);var e=Math.round(r[0]/255*100);var t=Math.round(r[1]/255*100);var a=Math.round(r[2]/255*100);return r.length<4||r[3]===1?"rgb("+e+"%, "+t+"%, "+a+"%)":"rgba("+e+"%, "+t+"%, "+a+"%, "+r[3]+")"};a.to.hsl=function(){var r=simpleSwizzle(arguments);return r.length<4||r[3]===1?"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)":"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+r[3]+")"};a.to.hwb=function(){var r=simpleSwizzle(arguments);var e="";if(r.length>=4&&r[3]!==1){e=", "+r[3]}return"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+e+")"};a.to.keyword=function(r){return e[r.slice(0,3)]};function o(r,e,t){return Math.min(Math.max(e,r),t)}function n(r){var e=r.toString(16).toUpperCase();return e.length<2?"0"+e:e}}));var conversions=createCommonjsModule((function(r){var e={};for(var t in colorName){if(colorName.hasOwnProperty(t)){e[colorName[t]]=t}}var a=r.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var o in a){if(a.hasOwnProperty(o)){if(!("channels"in a[o])){throw new Error("missing channels property: "+o)}if(!("labels"in a[o])){throw new Error("missing channel labels property: "+o)}if(a[o].labels.length!==a[o].channels){throw new Error("channel and label counts mismatch: "+o)}var n=a[o].channels;var i=a[o].labels;delete a[o].channels;delete a[o].labels;Object.defineProperty(a[o],"channels",{value:n});Object.defineProperty(a[o],"labels",{value:i})}}a.rgb.hsl=function(r){var e=r[0]/255;var t=r[1]/255;var a=r[2]/255;var o=Math.min(e,t,a);var n=Math.max(e,t,a);var i=n-o;var s;var l;var h;if(n===o){s=0}else if(e===n){s=(t-a)/i}else if(t===n){s=2+(a-e)/i}else if(a===n){s=4+(e-t)/i}s=Math.min(s*60,360);if(s<0){s+=360}h=(o+n)/2;if(n===o){l=0}else if(h<=.5){l=i/(n+o)}else{l=i/(2-n-o)}return[s,l*100,h*100]};a.rgb.hsv=function(r){var e;var t;var a;var o;var n;var i=r[0]/255;var s=r[1]/255;var l=r[2]/255;var h=Math.max(i,s,l);var c=h-Math.min(i,s,l);var u=function(r){return(h-r)/6/c+1/2};if(c===0){o=n=0}else{n=c/h;e=u(i);t=u(s);a=u(l);if(i===h){o=a-t}else if(s===h){o=1/3+e-a}else if(l===h){o=2/3+t-e}if(o<0){o+=1}else if(o>1){o-=1}}return[o*360,n*100,h*100]};a.rgb.hwb=function(r){var e=r[0];var t=r[1];var o=r[2];var n=a.rgb.hsl(r)[0];var i=1/255*Math.min(e,Math.min(t,o));o=1-1/255*Math.max(e,Math.max(t,o));return[n,i*100,o*100]};a.rgb.cmyk=function(r){var e=r[0]/255;var t=r[1]/255;var a=r[2]/255;var o;var n;var i;var s;s=Math.min(1-e,1-t,1-a);o=(1-e-s)/(1-s)||0;n=(1-t-s)/(1-s)||0;i=(1-a-s)/(1-s)||0;return[o*100,n*100,i*100,s*100]};function s(r,e){return Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2)+Math.pow(r[2]-e[2],2)}a.rgb.keyword=function(r){var t=e[r];if(t){return t}var a=Infinity;var o;for(var n in colorName){if(colorName.hasOwnProperty(n)){var i=colorName[n];var l=s(r,i);if(l<a){a=l;o=n}}}return o};a.keyword.rgb=function(r){return colorName[r]};a.rgb.xyz=function(r){var e=r[0]/255;var t=r[1]/255;var a=r[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;var o=e*.4124+t*.3576+a*.1805;var n=e*.2126+t*.7152+a*.0722;var i=e*.0193+t*.1192+a*.9505;return[o*100,n*100,i*100]};a.rgb.lab=function(r){var e=a.rgb.xyz(r);var t=e[0];var o=e[1];var n=e[2];var i;var s;var l;t/=95.047;o/=100;n/=108.883;t=t>.008856?Math.pow(t,1/3):7.787*t+16/116;o=o>.008856?Math.pow(o,1/3):7.787*o+16/116;n=n>.008856?Math.pow(n,1/3):7.787*n+16/116;i=116*o-16;s=500*(t-o);l=200*(o-n);return[i,s,l]};a.hsl.rgb=function(r){var e=r[0]/360;var t=r[1]/100;var a=r[2]/100;var o;var n;var i;var s;var l;if(t===0){l=a*255;return[l,l,l]}if(a<.5){n=a*(1+t)}else{n=a+t-a*t}o=2*a-n;s=[0,0,0];for(var h=0;h<3;h++){i=e+1/3*-(h-1);if(i<0){i++}if(i>1){i--}if(6*i<1){l=o+(n-o)*6*i}else if(2*i<1){l=n}else if(3*i<2){l=o+(n-o)*(2/3-i)*6}else{l=o}s[h]=l*255}return s};a.hsl.hsv=function(r){var e=r[0];var t=r[1]/100;var a=r[2]/100;var o=t;var n=Math.max(a,.01);var i;var s;a*=2;t*=a<=1?a:2-a;o*=n<=1?n:2-n;s=(a+t)/2;i=a===0?2*o/(n+o):2*t/(a+t);return[e,i*100,s*100]};a.hsv.rgb=function(r){var e=r[0]/60;var t=r[1]/100;var a=r[2]/100;var o=Math.floor(e)%6;var n=e-Math.floor(e);var i=255*a*(1-t);var s=255*a*(1-t*n);var l=255*a*(1-t*(1-n));a*=255;switch(o){case 0:return[a,l,i];case 1:return[s,a,i];case 2:return[i,a,l];case 3:return[i,s,a];case 4:return[l,i,a];case 5:return[a,i,s]}};a.hsv.hsl=function(r){var e=r[0];var t=r[1]/100;var a=r[2]/100;var o=Math.max(a,.01);var n;var i;var s;s=(2-t)*a;n=(2-t)*o;i=t*o;i/=n<=1?n:2-n;i=i||0;s/=2;return[e,i*100,s*100]};a.hwb.rgb=function(r){var e=r[0]/360;var t=r[1]/100;var a=r[2]/100;var o=t+a;var n;var i;var s;var l;if(o>1){t/=o;a/=o}n=Math.floor(6*e);i=1-a;s=6*e-n;if((n&1)!==0){s=1-s}l=t+s*(i-t);var h;var c;var u;switch(n){default:case 6:case 0:h=i;c=l;u=t;break;case 1:h=l;c=i;u=t;break;case 2:h=t;c=i;u=l;break;case 3:h=t;c=l;u=i;break;case 4:h=l;c=t;u=i;break;case 5:h=i;c=t;u=l;break}return[h*255,c*255,u*255]};a.cmyk.rgb=function(r){var e=r[0]/100;var t=r[1]/100;var a=r[2]/100;var o=r[3]/100;var n;var i;var s;n=1-Math.min(1,e*(1-o)+o);i=1-Math.min(1,t*(1-o)+o);s=1-Math.min(1,a*(1-o)+o);return[n*255,i*255,s*255]};a.xyz.rgb=function(r){var e=r[0]/100;var t=r[1]/100;var a=r[2]/100;var o;var n;var i;o=e*3.2406+t*-1.5372+a*-.4986;n=e*-.9689+t*1.8758+a*.0415;i=e*.0557+t*-.204+a*1.057;o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92;n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*12.92;i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92;o=Math.min(Math.max(0,o),1);n=Math.min(Math.max(0,n),1);i=Math.min(Math.max(0,i),1);return[o*255,n*255,i*255]};a.xyz.lab=function(r){var e=r[0];var t=r[1];var a=r[2];var o;var n;var i;e/=95.047;t/=100;a/=108.883;e=e>.008856?Math.pow(e,1/3):7.787*e+16/116;t=t>.008856?Math.pow(t,1/3):7.787*t+16/116;a=a>.008856?Math.pow(a,1/3):7.787*a+16/116;o=116*t-16;n=500*(e-t);i=200*(t-a);return[o,n,i]};a.lab.xyz=function(r){var e=r[0];var t=r[1];var a=r[2];var o;var n;var i;n=(e+16)/116;o=t/500+n;i=n-a/200;var s=Math.pow(n,3);var l=Math.pow(o,3);var h=Math.pow(i,3);n=s>.008856?s:(n-16/116)/7.787;o=l>.008856?l:(o-16/116)/7.787;i=h>.008856?h:(i-16/116)/7.787;o*=95.047;n*=100;i*=108.883;return[o,n,i]};a.lab.lch=function(r){var e=r[0];var t=r[1];var a=r[2];var o;var n;var i;o=Math.atan2(a,t);n=o*360/2/Math.PI;if(n<0){n+=360}i=Math.sqrt(t*t+a*a);return[e,i,n]};a.lch.lab=function(r){var e=r[0];var t=r[1];var a=r[2];var o;var n;var i;i=a/360*2*Math.PI;o=t*Math.cos(i);n=t*Math.sin(i);return[e,o,n]};a.rgb.ansi16=function(r){var e=r[0];var t=r[1];var o=r[2];var n=1 in arguments?arguments[1]:a.rgb.hsv(r)[2];n=Math.round(n/50);if(n===0){return 30}var i=30+(Math.round(o/255)<<2|Math.round(t/255)<<1|Math.round(e/255));if(n===2){i+=60}return i};a.hsv.ansi16=function(r){return a.rgb.ansi16(a.hsv.rgb(r),r[2])};a.rgb.ansi256=function(r){var e=r[0];var t=r[1];var a=r[2];if(e===t&&t===a){if(e<8){return 16}if(e>248){return 231}return Math.round((e-8)/247*24)+232}var o=16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(a/255*5);return o};a.ansi16.rgb=function(r){var e=r%10;if(e===0||e===7){if(r>50){e+=3.5}e=e/10.5*255;return[e,e,e]}var t=(~~(r>50)+1)*.5;var a=(e&1)*t*255;var o=(e>>1&1)*t*255;var n=(e>>2&1)*t*255;return[a,o,n]};a.ansi256.rgb=function(r){if(r>=232){var e=(r-232)*10+8;return[e,e,e]}r-=16;var t;var a=Math.floor(r/36)/5*255;var o=Math.floor((t=r%36)/6)/5*255;var n=t%6/5*255;return[a,o,n]};a.rgb.hex=function(r){var e=((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255);var t=e.toString(16).toUpperCase();return"000000".substring(t.length)+t};a.hex.rgb=function(r){var e=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e){return[0,0,0]}var t=e[0];if(e[0].length===3){t=t.split("").map((function(r){return r+r})).join("")}var a=parseInt(t,16);var o=a>>16&255;var n=a>>8&255;var i=a&255;return[o,n,i]};a.rgb.hcg=function(r){var e=r[0]/255;var t=r[1]/255;var a=r[2]/255;var o=Math.max(Math.max(e,t),a);var n=Math.min(Math.min(e,t),a);var i=o-n;var s;var l;if(i<1){s=n/(1-i)}else{s=0}if(i<=0){l=0}else if(o===e){l=(t-a)/i%6}else if(o===t){l=2+(a-e)/i}else{l=4+(e-t)/i+4}l/=6;l%=1;return[l*360,i*100,s*100]};a.hsl.hcg=function(r){var e=r[1]/100;var t=r[2]/100;var a=1;var o=0;if(t<.5){a=2*e*t}else{a=2*e*(1-t)}if(a<1){o=(t-.5*a)/(1-a)}return[r[0],a*100,o*100]};a.hsv.hcg=function(r){var e=r[1]/100;var t=r[2]/100;var a=e*t;var o=0;if(a<1){o=(t-a)/(1-a)}return[r[0],a*100,o*100]};a.hcg.rgb=function(r){var e=r[0]/360;var t=r[1]/100;var a=r[2]/100;if(t===0){return[a*255,a*255,a*255]}var o=[0,0,0];var n=e%1*6;var i=n%1;var s=1-i;var l=0;switch(Math.floor(n)){case 0:o[0]=1;o[1]=i;o[2]=0;break;case 1:o[0]=s;o[1]=1;o[2]=0;break;case 2:o[0]=0;o[1]=1;o[2]=i;break;case 3:o[0]=0;o[1]=s;o[2]=1;break;case 4:o[0]=i;o[1]=0;o[2]=1;break;default:o[0]=1;o[1]=0;o[2]=s}l=(1-t)*a;return[(t*o[0]+l)*255,(t*o[1]+l)*255,(t*o[2]+l)*255]};a.hcg.hsv=function(r){var e=r[1]/100;var t=r[2]/100;var a=e+t*(1-e);var o=0;if(a>0){o=e/a}return[r[0],o*100,a*100]};a.hcg.hsl=function(r){var e=r[1]/100;var t=r[2]/100;var a=t*(1-e)+.5*e;var o=0;if(a>0&&a<.5){o=e/(2*a)}else if(a>=.5&&a<1){o=e/(2*(1-a))}return[r[0],o*100,a*100]};a.hcg.hwb=function(r){var e=r[1]/100;var t=r[2]/100;var a=e+t*(1-e);return[r[0],(a-e)*100,(1-a)*100]};a.hwb.hcg=function(r){var e=r[1]/100;var t=r[2]/100;var a=1-t;var o=a-e;var n=0;if(o<1){n=(a-o)/(1-o)}return[r[0],o*100,n*100]};a.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};a.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};a.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};a.gray.hsl=a.gray.hsv=function(r){return[0,0,r[0]]};a.gray.hwb=function(r){return[0,100,r[0]]};a.gray.cmyk=function(r){return[0,0,0,r[0]]};a.gray.lab=function(r){return[r[0],0,0]};a.gray.hex=function(r){var e=Math.round(r[0]/100*255)&255;var t=(e<<16)+(e<<8)+e;var a=t.toString(16).toUpperCase();return"000000".substring(a.length)+a};a.rgb.gray=function(r){var e=(r[0]+r[1]+r[2])/3;return[e/255*100]}}));function buildGraph(){var r={};var e=Object.keys(conversions);for(var t=e.length,a=0;a<t;a++){r[e[a]]={distance:-1,parent:null}}return r}function deriveBFS(r){var e=buildGraph();var t=[r];e[r].distance=0;while(t.length){var a=t.pop();var o=Object.keys(conversions[a]);for(var n=o.length,i=0;i<n;i++){var s=o[i];var l=e[s];if(l.distance===-1){l.distance=e[a].distance+1;l.parent=a;t.unshift(s)}}}return e}function link(r,e){return function(t){return e(r(t))}}function wrapConversion(r,e){var t=[e[r].parent,r];var a=conversions[e[r].parent][r];var o=e[r].parent;while(e[o].parent){t.unshift(e[o].parent);a=link(conversions[e[o].parent][o],a);o=e[o].parent}a.conversion=t;return a}var route=function(r){var e=deriveBFS(r);var t={};var a=Object.keys(e);for(var o=a.length,n=0;n<o;n++){var i=a[n];var s=e[i];if(s.parent===null){continue}t[i]=wrapConversion(i,e)}return t};var convert={};var models=Object.keys(conversions);function wrapRaw(r){var e=function(e){if(e===undefined||e===null){return e}if(arguments.length>1){e=Array.prototype.slice.call(arguments)}return r(e)};if("conversion"in r){e.conversion=r.conversion}return e}function wrapRounded(r){var e=function(e){if(e===undefined||e===null){return e}if(arguments.length>1){e=Array.prototype.slice.call(arguments)}var t=r(e);if(typeof t==="object"){for(var a=t.length,o=0;o<a;o++){t[o]=Math.round(t[o])}}return t};if("conversion"in r){e.conversion=r.conversion}return e}models.forEach((function(r){convert[r]={};Object.defineProperty(convert[r],"channels",{value:conversions[r].channels});Object.defineProperty(convert[r],"labels",{value:conversions[r].labels});var e=route(r);var t=Object.keys(e);t.forEach((function(t){var a=e[t];convert[r][t]=wrapRounded(a);convert[r][t].raw=wrapRaw(a)}))}));var colorConvert=convert;var _slice=[].slice;var skippedModels=["keyword","gray","hex"];var hashedModelKeys={};Object.keys(colorConvert).forEach((function(r){hashedModelKeys[_slice.call(colorConvert[r].labels).sort().join("")]=r}));var limiters={};function Color(r,e){if(!(this instanceof Color)){return new Color(r,e)}if(e&&e in skippedModels){e=null}if(e&&!(e in colorConvert)){throw new Error("Unknown model: "+e)}var t;var a;if(r==null){this.model="rgb";this.color=[0,0,0];this.valpha=1}else if(r instanceof Color){this.model=r.model;this.color=r.color.slice();this.valpha=r.valpha}else if(typeof r==="string"){var o=colorString.get(r);if(o===null){throw new Error("Unable to parse color from string: "+r)}this.model=o.model;a=colorConvert[this.model].channels;this.color=o.value.slice(0,a);this.valpha=typeof o.value[a]==="number"?o.value[a]:1}else if(r.length){this.model=e||"rgb";a=colorConvert[this.model].channels;var n=_slice.call(r,0,a);this.color=zeroArray(n,a);this.valpha=typeof r[a]==="number"?r[a]:1}else if(typeof r==="number"){r&=16777215;this.model="rgb";this.color=[r>>16&255,r>>8&255,r&255];this.valpha=1}else{this.valpha=1;var i=Object.keys(r);if("alpha"in r){i.splice(i.indexOf("alpha"),1);this.valpha=typeof r.alpha==="number"?r.alpha:0}var s=i.sort().join("");if(!(s in hashedModelKeys)){throw new Error("Unable to parse color from object: "+JSON.stringify(r))}this.model=hashedModelKeys[s];var l=colorConvert[this.model].labels;var h=[];for(t=0;t<l.length;t++){h.push(r[l[t]])}this.color=zeroArray(h)}if(limiters[this.model]){a=colorConvert[this.model].channels;for(t=0;t<a;t++){var c=limiters[this.model][t];if(c){this.color[t]=c(this.color[t])}}}this.valpha=Math.max(0,Math.min(1,this.valpha));if(Object.freeze){Object.freeze(this)}}Color.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(r){var e=this.model in colorString.to?this:this.rgb();e=e.round(typeof r==="number"?r:1);var t=e.valpha===1?e.color:e.color.concat(this.valpha);return colorString.to[e.model](t)},percentString:function(r){var e=this.rgb().round(typeof r==="number"?r:1);var t=e.valpha===1?e.color:e.color.concat(this.valpha);return colorString.to.rgb.percent(t)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){var r={};var e=colorConvert[this.model].channels;var t=colorConvert[this.model].labels;for(var a=0;a<e;a++){r[t[a]]=this.color[a]}if(this.valpha!==1){r.alpha=this.valpha}return r},unitArray:function(){var r=this.rgb().color;r[0]/=255;r[1]/=255;r[2]/=255;if(this.valpha!==1){r.push(this.valpha)}return r},unitObject:function(){var r=this.rgb().object();r.r/=255;r.g/=255;r.b/=255;if(this.valpha!==1){r.alpha=this.valpha}return r},round:function(r){r=Math.max(r||0,0);return new Color(this.color.map(roundToPlace(r)).concat(this.valpha),this.model)},alpha:function(r){if(arguments.length){return new Color(this.color.concat(Math.max(0,Math.min(1,r))),this.model)}return this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,(function(r){return(r%360+360)%360})),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(100)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(100)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword:function(r){if(arguments.length){return new Color(r)}return colorConvert[this.model].keyword(this.color)},hex:function(r){if(arguments.length){return new Color(r)}return colorString.to.hex(this.rgb().round().color)},rgbNumber:function(){var r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity:function(){var r=this.rgb().color;var e=[];for(var t=0;t<r.length;t++){var a=r[t]/255;e[t]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(r){var e=this.luminosity();var t=r.luminosity();if(e>t){return(e+.05)/(t+.05)}return(t+.05)/(e+.05)},level:function(r){var e=this.contrast(r);if(e>=7.1){return"AAA"}return e>=4.5?"AA":""},isDark:function(){var r=this.rgb().color;var e=(r[0]*299+r[1]*587+r[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){var r=this.rgb();for(var e=0;e<3;e++){r.color[e]=255-r.color[e]}return r},lighten:function(r){var e=this.hsl();e.color[2]+=e.color[2]*r;return e},darken:function(r){var e=this.hsl();e.color[2]-=e.color[2]*r;return e},saturate:function(r){var e=this.hsl();e.color[1]+=e.color[1]*r;return e},desaturate:function(r){var e=this.hsl();e.color[1]-=e.color[1]*r;return e},whiten:function(r){var e=this.hwb();e.color[1]+=e.color[1]*r;return e},blacken:function(r){var e=this.hwb();e.color[2]+=e.color[2]*r;return e},grayscale:function(){var r=this.rgb().color;var e=r[0]*.3+r[1]*.59+r[2]*.11;return Color.rgb(e,e,e)},fade:function(r){return this.alpha(this.valpha-this.valpha*r)},opaquer:function(r){return this.alpha(this.valpha+this.valpha*r)},rotate:function(r){var e=this.hsl();var t=e.color[0];t=(t+r)%360;t=t<0?360+t:t;e.color[0]=t;return e},mix:function(r,e){if(!r||!r.rgb){throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r)}var t=r.rgb();var a=this.rgb();var o=e===undefined?.5:e;var n=2*o-1;var i=t.alpha()-a.alpha();var s=((n*i===-1?n:(n+i)/(1+n*i))+1)/2;var l=1-s;return Color.rgb(s*t.red()+l*a.red(),s*t.green()+l*a.green(),s*t.blue()+l*a.blue(),t.alpha()*o+a.alpha()*(1-o))}};Object.keys(colorConvert).forEach((function(r){if(skippedModels.indexOf(r)!==-1){return}var e=colorConvert[r].channels;Color.prototype[r]=function(){if(this.model===r){return new Color(this)}if(arguments.length){return new Color(arguments,r)}var t=typeof arguments[e]==="number"?e:this.valpha;return new Color(assertArray(colorConvert[this.model][r].raw(this.color)).concat(t),r)};Color[r]=function(t){if(typeof t==="number"){t=zeroArray(_slice.call(arguments),e)}return new Color(t,r)}}));function roundTo(r,e){return Number(r.toFixed(e))}function roundToPlace(r){return function(e){return roundTo(e,r)}}function getset(r,e,t){r=Array.isArray(r)?r:[r];r.forEach((function(r){(limiters[r]||(limiters[r]=[]))[e]=t}));r=r[0];return function(a){var o;if(arguments.length){if(t){a=t(a)}o=this[r]();o.color[e]=a;return o}o=this[r]().color[e];if(t){o=t(o)}return o}}function maxfn(r){return function(e){return Math.max(0,Math.min(r,e))}}function assertArray(r){return Array.isArray(r)?r:[r]}function zeroArray(r,e){for(var t=0;t<e;t++){if(typeof r[t]!=="number"){r[t]=0}}return r}var color=Color;var colorPickerCss=':host{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}:host *,:host *:before,:host *:after{-webkit-box-sizing:inherit;box-sizing:inherit}:host{--grid-width:260px;--grid-height:200px;--grid-handle-size:16px;--slider-height:12px;--slider-handle-size:14px;display:inline-block}.color-picker{width:var(--grid-width);font-family:var(--sl-font-sans);font-size:var(--sl-font-size-medium);font-weight:var(--sl-font-weight-normal);color:var(--color);background-color:var(--sl-panel-background-color);border-radius:var(--sl-border-radius-medium);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.color-picker--inline{border:solid 1px var(--sl-panel-border-color);-webkit-box-shadow:var(--sl-shadow-small);box-shadow:var(--sl-shadow-small)}.color-picker__grid{position:relative;height:var(--grid-height);background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255, 255, 255, 0)), color-stop(50%, rgba(0, 0, 0, 0)), to(black)), -webkit-gradient(linear, left top, right top, from(gray), to(rgba(128, 128, 128, 0)));background-image:linear-gradient(to bottom, white 0%, rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0) 50%, black 100%), linear-gradient(to right, gray 0%, rgba(128, 128, 128, 0) 100%);border-top-left-radius:var(--sl-border-radius-medium);border-top-right-radius:var(--sl-border-radius-medium);cursor:crosshair}.color-picker__grid-handle{position:absolute;width:var(--grid-handle-size);height:var(--grid-handle-size);border-radius:50%;-webkit-box-shadow:0 0 0 1px rgba(0, 0, 0, 0.25);box-shadow:0 0 0 1px rgba(0, 0, 0, 0.25);border:solid 2px white;margin-top:calc(var(--grid-handle-size) / -2);margin-left:calc(var(--grid-handle-size) / -2)}.color-picker__grid-handle:focus{outline:none;-webkit-box-shadow:0 0 0 1px var(--sl-color-primary-500), 0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);box-shadow:0 0 0 1px var(--sl-color-primary-500), 0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary)}.color-picker__controls{padding:var(--sl-spacing-small);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.color-picker__sliders{-ms-flex:1 1 auto;flex:1 1 auto}.color-picker__slider{position:relative;height:var(--slider-height);border-radius:var(--sl-border-radius-pill);-webkit-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.2);box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.2)}.color-picker__slider:not(:last-of-type){margin-bottom:var(--sl-spacing-small)}.color-picker__slider-handle{position:absolute;top:calc(50% - var(--slider-handle-size) / 2);width:var(--slider-handle-size);height:var(--slider-handle-size);background-color:white;border-radius:50%;-webkit-box-shadow:0 0 0 1px rgba(0, 0, 0, 0.25);box-shadow:0 0 0 1px rgba(0, 0, 0, 0.25);margin-left:calc(var(--slider-handle-size) / -2)}.color-picker__slider-handle:focus{outline:none;-webkit-box-shadow:0 0 0 1px var(--sl-color-primary-500), 0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);box-shadow:0 0 0 1px var(--sl-color-primary-500), 0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary)}.color-picker__hue{background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(17%, yellow), color-stop(33%, lime), color-stop(50%, aqua), color-stop(67%, blue), color-stop(83%, fuchsia), to(red));background-image:linear-gradient(to right, red 0%, yellow 17%, lime 33%, aqua 50%, blue 67%, fuchsia 83%, red 100%)}.color-picker__alpha .color-picker__alpha-gradient{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit}.color-picker__preview{-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;width:3.125rem;height:var(--sl-input-height-small);border:none;border-radius:var(--sl-input-border-radius-small);background:none;margin-left:var(--sl-spacing-small);cursor:copy}.color-picker__preview::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;-webkit-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.2);box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.2);background-color:var(--preview-color)}.color-picker__preview:focus{-webkit-box-shadow:0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);box-shadow:0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);outline:none}.color-picker__preview-color{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0, 0, 0, 0.125)}.color-picker__copy-feedback{width:calc(var(--sl-input-height-small) / 2);height:calc(var(--sl-input-height-small) / 2);color:white;background-color:rgba(0, 0, 0, 0.33);border-radius:var(--sl-border-radius-circle);opacity:0}.color-picker__copy-feedback.color-picker__copy-feedback--visible{-webkit-animation:copied 1s;animation:copied 1s}@-webkit-keyframes copied{0%{-webkit-transform:scale(0.5);transform:scale(0.5);opacity:0}25%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:1}50%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(1.6);transform:scale(1.6);opacity:0}}@keyframes copied{0%{-webkit-transform:scale(0.5);transform:scale(0.5);opacity:0}25%{-webkit-transform:scale(1.2);transform:scale(1.2);opacity:1}50%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(1.6);transform:scale(1.6);opacity:0}}.color-picker__user-input{display:-ms-flexbox;display:flex;padding:0 var(--sl-spacing-small) var(--sl-spacing-small) var(--sl-spacing-small)}.color-picker__user-input sl-input{min-width:0;-ms-flex:1 1 auto;flex:1 1 auto}.color-picker__user-input sl-button{min-width:3.125rem;max-width:3.125rem;font-size:1rem;margin-left:var(--sl-spacing-small)}.color-picker__swatches{display:grid;grid-template-columns:repeat(8, 1fr);grid-gap:6px;justify-items:center;border-top:solid 1px var(--sl-color-gray-200);padding:var(--sl-spacing-small)}.color-picker__swatch{-ms-flex:0 0 auto;flex:0 0 auto;position:relative;width:20px;height:20px;border-radius:2px}.color-picker__swatch .color-picker__swatch-color{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0, 0, 0, 0.125);border-radius:inherit;cursor:pointer}.color-picker__swatch:focus{outline:none;-webkit-box-shadow:0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);box-shadow:0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary)}.color-picker__transparent-bg{background-image:linear-gradient(45deg, #eee 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #eee 75%), linear-gradient(45deg, transparent 75%, #eee 75%), linear-gradient(45deg, #eee 25%, transparent 25%);background-size:10px 10px;background-position:0 0, 0 0, -5px -5px, 5px 5px}.color-picker--disabled{opacity:0.5;cursor:not-allowed}.color-picker--disabled .color-picker__grid,.color-picker--disabled .color-picker__grid-handle,.color-picker--disabled .color-picker__slider,.color-picker--disabled .color-picker__slider-handle,.color-picker--disabled .color-picker__preview,.color-picker--disabled .color-picker__swatch,.color-picker--disabled .color-picker__swatch-color{pointer-events:none}.color-dropdown::part(panel){max-height:none;overflow:visible}.color-dropdown__trigger{display:inline-block;position:relative;background-color:transparent;border:none;cursor:pointer;-webkit-transition:var(--sl-transition-fast) box-shadow;transition:var(--sl-transition-fast) box-shadow}.color-dropdown__trigger.color-dropdown__trigger--small{width:var(--sl-input-height-small);height:var(--sl-input-height-small);border-radius:var(--sl-border-radius-circle)}.color-dropdown__trigger.color-dropdown__trigger--medium{width:var(--sl-input-height-medium);height:var(--sl-input-height-medium);border-radius:var(--sl-border-radius-circle)}.color-dropdown__trigger.color-dropdown__trigger--large{width:var(--sl-input-height-large);height:var(--sl-input-height-large);border-radius:var(--sl-border-radius-circle)}.color-dropdown__trigger::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;background-color:currentColor;-webkit-box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.25);box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.25);-webkit-transition:inherit;transition:inherit}.color-dropdown__trigger:focus{outline:none}.color-dropdown__trigger:focus:not(.color-dropdown__trigger--disabled){-webkit-box-shadow:0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);box-shadow:0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);outline:none}.color-dropdown__trigger:focus:not(.color-dropdown__trigger--disabled)::before{-webkit-box-shadow:inset 0 0 0 1px var(--sl-color-primary-500);box-shadow:inset 0 0 0 1px var(--sl-color-primary-500)}.color-dropdown__trigger.color-dropdown__trigger--disabled{opacity:0.5;cursor:not-allowed}';var ColorPicker=function(){function r(r){registerInstance(this,r);this.slChange=createEvent(this,"sl-change",7);this.slShow=createEvent(this,"sl-show",7);this.slAfterShow=createEvent(this,"sl-after-show",7);this.slHide=createEvent(this,"sl-hide",7);this.slAfterHide=createEvent(this,"sl-after-hide",7);this.bypassValueParse=false;this.inputValue="";this.hue=0;this.saturation=100;this.lightness=100;this.alpha=100;this.showCopyFeedback=false;this.value="#ffffff";this.format="hex";this.inline=false;this.size="medium";this.noFormatToggle=false;this.name="";this.disabled=false;this.invalid=false;this.hoist=false;this.opacity=false;this.uppercase=false;this.swatches=["#d0021b","#f5a623","#f8e71c","#8b572a","#7ed321","#417505","#bd10e0","#9013fe","#4a90e2","#50e3c2","#b8e986","#000","#444","#888","#ccc","#fff"]}r.prototype.handleFormatChange=function(){this.syncValues()};r.prototype.handleOpacityChange=function(){this.alpha=100};r.prototype.handleValueChange=function(r,e){if(!this.bypassValueParse){var t=this.parseColor(r);if(t){this.inputValue=this.value;this.hue=t.hsla.h;this.saturation=t.hsla.s;this.lightness=t.hsla.l;this.alpha=t.hsla.a*100}else{this.inputValue=e}}if(this.value!==this.lastValueEmitted){this.slChange.emit();this.lastValueEmitted=this.value}};r.prototype.connectedCallback=function(){this.handleAlphaDrag=this.handleAlphaDrag.bind(this);this.handleAlphaInput=this.handleAlphaInput.bind(this);this.handleAlphaKeyDown=this.handleAlphaKeyDown.bind(this);this.handleCopy=this.handleCopy.bind(this);this.handleFormatToggle=this.handleFormatToggle.bind(this);this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this);this.handleDrag=this.handleDrag.bind(this);this.handleDropdownAfterHide=this.handleDropdownAfterHide.bind(this);this.handleDropdownAfterShow=this.handleDropdownAfterShow.bind(this);this.handleDropdownHide=this.handleDropdownHide.bind(this);this.handleDropdownShow=this.handleDropdownShow.bind(this);this.handleGridDrag=this.handleGridDrag.bind(this);this.handleGridKeyDown=this.handleGridKeyDown.bind(this);this.handleHueDrag=this.handleHueDrag.bind(this);this.handleHueInput=this.handleHueInput.bind(this);this.handleHueKeyDown=this.handleHueKeyDown.bind(this);this.handleLightnessInput=this.handleLightnessInput.bind(this);this.handleSaturationInput=this.handleSaturationInput.bind(this);this.handleInputChange=this.handleInputChange.bind(this);this.handleInputKeyDown=this.handleInputKeyDown.bind(this)};r.prototype.componentWillLoad=function(){if(!this.setColor(this.value)){this.setColor("#ffff")}this.inputValue=this.value;this.lastValueEmitted=this.value;this.syncValues()};r.prototype.getFormattedValue=function(r){if(r===void 0){r="hex"}return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){e=this.parseColor("hsla("+this.hue+", "+this.saturation+"%, "+this.lightness+"%, "+this.alpha/100+")");if(!e){return[2,""]}switch(r){case"hex":return[2,e.hex];case"hexa":return[2,e.hexa];case"rgb":return[2,e.rgb.string];case"rgba":return[2,e.rgba.string];case"hsl":return[2,e.hsl.string];case"hsla":return[2,e.hsla.string];default:return[2,""]}return[2]}))}))};r.prototype.reportValidity=function(){return __awaiter(this,void 0,void 0,(function(){var r=this;return __generator(this,(function(e){if(!this.inline&&this.input.invalid){return[2,new Promise((function(e){r.dropdown.addEventListener("sl-after-show",(function(){r.input.reportValidity();e()}),{once:true});r.dropdown.show()}))]}else{return[2,this.input.reportValidity()]}return[2]}))}))};r.prototype.setCustomValidity=function(r){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.input.setCustomValidity(r)];case 1:e.sent();this.invalid=this.input.invalid;return[2]}}))}))};r.prototype.handleCopy=function(){var r=this;this.input.select().then((function(){document.execCommand("copy");r.previewButton.focus();r.showCopyFeedback=true;r.previewButton.addEventListener("animationend",(function(){return r.showCopyFeedback=false}),{once:true})}))};r.prototype.handleFormatToggle=function(){var r=["hex","rgb","hsl"];var e=(r.indexOf(this.format)+1)%r.length;this.format=r[e]};r.prototype.handleHueInput=function(r){var e=r.target;this.hue=clamp(Number(e.value),0,360)};r.prototype.handleSaturationInput=function(r){var e=r.target;this.saturation=clamp(Number(e.value),0,100)};r.prototype.handleLightnessInput=function(r){var e=r.target;this.lightness=clamp(Number(e.value),0,100)};r.prototype.handleAlphaInput=function(r){var e=r.target;this.alpha=clamp(Number(e.value),0,100)};r.prototype.handleAlphaDrag=function(r){var e=this;var t=this.host.shadowRoot.querySelector(".color-picker__slider.color-picker__alpha");var a=t.querySelector(".color-picker__slider-handle");var o=t.getBoundingClientRect().width;a.focus();r.preventDefault();this.handleDrag(r,t,(function(r){e.alpha=clamp(r/o*100,0,100);e.syncValues()}))};r.prototype.handleHueDrag=function(r){var e=this;var t=this.host.shadowRoot.querySelector(".color-picker__slider.color-picker__hue");var a=t.querySelector(".color-picker__slider-handle");var o=t.getBoundingClientRect().width;a.focus();r.preventDefault();this.handleDrag(r,t,(function(r){e.hue=clamp(r/o*360,0,360);e.syncValues()}))};r.prototype.handleGridDrag=function(r){var e=this;var t=this.host.shadowRoot.querySelector(".color-picker__grid");var a=t.querySelector(".color-picker__grid-handle");var o=t.getBoundingClientRect(),n=o.width,i=o.height;a.focus();r.preventDefault();this.handleDrag(r,t,(function(r,t){e.saturation=clamp(r/n*100,0,100);e.lightness=clamp(100-t/i*100,0,100);e.syncValues()}))};r.prototype.handleDrag=function(r,e,t){if(this.disabled){return false}var a=function(r){var a=e.getBoundingClientRect();var o=a.left+e.ownerDocument.defaultView.pageXOffset;var n=a.top+e.ownerDocument.defaultView.pageYOffset;var i=(r.changedTouches?r.changedTouches[0].pageX:r.pageX)-o;var s=(r.changedTouches?r.changedTouches[0].pageY:r.pageY)-n;t(i,s)};a(r);var o=function(){document.removeEventListener("mousemove",a);document.removeEventListener("touchmove",a);document.removeEventListener("mouseup",o);document.removeEventListener("touchend",o)};document.addEventListener("mousemove",a);document.addEventListener("touchmove",a);document.addEventListener("mouseup",o);document.addEventListener("touchend",o)};r.prototype.handleAlphaKeyDown=function(r){var e=r.shiftKey?10:1;if(r.key==="ArrowLeft"){r.preventDefault();this.alpha=clamp(this.alpha-e,0,100);this.syncValues()}if(r.key==="ArrowRight"){r.preventDefault();this.alpha=clamp(this.alpha+e,0,100);this.syncValues()}if(r.key==="Home"){r.preventDefault();this.alpha=0;this.syncValues()}if(r.key==="End"){r.preventDefault();this.alpha=100;this.syncValues()}};r.prototype.handleHueKeyDown=function(r){var e=r.shiftKey?10:1;if(r.key==="ArrowLeft"){r.preventDefault();this.hue=clamp(this.hue-e,0,360);this.syncValues()}if(r.key==="ArrowRight"){r.preventDefault();this.hue=clamp(this.hue+e,0,360);this.syncValues()}if(r.key==="Home"){r.preventDefault();this.hue=0;this.syncValues()}if(r.key==="End"){r.preventDefault();this.hue=360;this.syncValues()}};r.prototype.handleGridKeyDown=function(r){var e=r.shiftKey?10:1;if(r.key==="ArrowLeft"){r.preventDefault();this.saturation=clamp(this.saturation-e,0,100);this.syncValues()}if(r.key==="ArrowRight"){r.preventDefault();this.saturation=clamp(this.saturation+e,0,100);this.syncValues()}if(r.key==="ArrowUp"){r.preventDefault();this.lightness=clamp(this.lightness+e,0,100);this.syncValues()}if(r.key==="ArrowDown"){r.preventDefault();this.lightness=clamp(this.lightness-e,0,100);this.syncValues()}};r.prototype.handleInputChange=function(r){var e=r.target;this.setColor(e.value);e.value=this.value;r.stopPropagation()};r.prototype.handleInputKeyDown=function(r){var e=this;if(r.key==="Enter"){this.setColor(this.input.value);this.input.value=this.value;setTimeout((function(){return e.input.select()}))}};r.prototype.handleDocumentMouseDown=function(r){var e=r.target;if(e.closest("sl-color-picker")!==this.host){this.dropdown.hide()}};r.prototype.handleDropdownShow=function(r){r.stopPropagation();this.slShow.emit()};r.prototype.handleDropdownAfterShow=function(r){r.stopPropagation();this.slAfterShow.emit()};r.prototype.handleDropdownHide=function(r){r.stopPropagation();this.slHide.emit()};r.prototype.handleDropdownAfterHide=function(r){r.stopPropagation();this.slAfterHide.emit();this.showCopyFeedback=false};r.prototype.normalizeColorString=function(r){if(/rgba?/i.test(r)){var e=r.replace(/[^\d.%]/g," ").split(" ").map((function(r){return r.trim()})).filter((function(r){return r.length}));if(e.length<4){e[3]="1"}if(e[3].indexOf("%")>-1){e[3]=(Number(e[3].replace(/%/g,""))/100).toString()}return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}if(/hsla?/i.test(r)){var t=r.replace(/[^\d.%]/g," ").split(" ").map((function(r){return r.trim()})).filter((function(r){return r.length}));if(t.length<4){t[3]="1"}if(t[3].indexOf("%")>-1){t[3]=(Number(t[3].replace(/%/g,""))/100).toString()}return"hsla("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}if(/^[0-9a-f]+$/i.test(r)){return"#"+r}return r};r.prototype.parseColor=function(r){function e(r){var e=Math.round(r).toString(16);return e.length===1?"0"+e:e}var t;r=this.normalizeColorString(r);try{t=color(r)}catch(i){return false}var a={h:t.hsl().color[0],s:t.hsl().color[1],l:t.hsl().color[2],a:t.hsl().valpha};var o={r:t.rgb().color[0],g:t.rgb().color[1],b:t.rgb().color[2],a:t.rgb().valpha};var n={r:e(t.rgb().color[0]),g:e(t.rgb().color[1]),b:e(t.rgb().color[2]),a:e(t.rgb().valpha*255)};return{hsl:{h:a.h,s:a.s,l:a.l,string:this.setLetterCase("hsl("+Math.round(a.h)+", "+Math.round(a.s)+"%, "+Math.round(a.l)+"%)")},hsla:{h:a.h,s:a.s,l:a.l,a:a.a,string:this.setLetterCase("hsla("+Math.round(a.h)+", "+Math.round(a.s)+"%, "+Math.round(a.l)+"%, "+Number(a.a.toFixed(2).toString())+")")},rgb:{r:o.r,g:o.g,b:o.b,string:this.setLetterCase("rgb("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+")")},rgba:{r:o.r,g:o.g,b:o.b,a:o.a,string:this.setLetterCase("rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+Number(o.a.toFixed(2).toString())+")")},hex:this.setLetterCase("#"+n.r+n.g+n.b),hexa:this.setLetterCase("#"+n.r+n.g+n.b+n.a)}};r.prototype.setColor=function(r){var e=this.parseColor(r);if(!e){return false}this.hue=e.hsla.h;this.saturation=e.hsla.s;this.lightness=e.hsla.l;this.alpha=this.opacity?e.hsla.a*100:100;this.syncValues();return true};r.prototype.setLetterCase=function(r){if(typeof r!=="string")return"";return this.uppercase?r.toUpperCase():r.toLowerCase()};r.prototype.syncValues=function(){var r=this.parseColor("hsla("+this.hue+", "+this.saturation+"%, "+this.lightness+"%, "+this.alpha/100+")");if(!r){return false}if(this.format==="hsl"){this.inputValue=this.opacity?r.hsla.string:r.hsl.string}else if(this.format==="rgb"){this.inputValue=this.opacity?r.rgba.string:r.rgb.string}else{this.inputValue=this.opacity?r.hexa:r.hex}this.bypassValueParse=true;this.value=this.inputValue;this.bypassValueParse=false};r.prototype.render=function(){var r=this;var e=this.saturation;var t=100-this.lightness;var a=function(){return h("div",{part:"base",class:{"color-picker":true,"color-picker--inline":r.inline,"color-picker--disabled":r.disabled},"aria-disabled":r.disabled?"true":"false"},h("div",{part:"grid",class:"color-picker__grid",style:{backgroundColor:"hsl("+r.hue+"deg, 100%, 50%)"},onMouseDown:r.handleGridDrag,onTouchStart:r.handleGridDrag},h("span",{part:"grid-handle",class:"color-picker__grid-handle",style:{top:t+"%",left:e+"%",backgroundColor:"hsla("+r.hue+"deg, "+r.saturation+"%, "+r.lightness+"%)"},role:"slider","aria-label":"HSL","aria-valuetext":"hsl("+Math.round(r.hue)+", "+Math.round(r.saturation)+"%, "+Math.round(r.lightness)+"%)",tabIndex:r.disabled?null:0,onKeyDown:r.handleGridKeyDown})),h("div",{class:"color-picker__controls"},h("div",{class:"color-picker__sliders"},h("div",{part:"slider hue-slider",class:"color-picker__hue color-picker__slider",onMouseDown:r.handleHueDrag,onTouchStart:r.handleHueDrag},h("span",{part:"slider-handle",class:"color-picker__slider-handle",style:{left:(r.hue===0?0:100/(360/r.hue))+"%"},role:"slider","aria-label":"hue","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":"360","aria-valuenow":Math.round(r.hue),tabIndex:r.disabled?null:0,onKeyDown:r.handleHueKeyDown})),r.opacity&&h("div",{part:"slider opacity-slider",class:"color-picker__alpha color-picker__slider color-picker__transparent-bg",onMouseDown:r.handleAlphaDrag,onTouchStart:r.handleAlphaDrag},h("div",{class:"color-picker__alpha-gradient",style:{backgroundImage:"linear-gradient(\n                      to right,\n                      hsl("+r.hue+"deg, "+r.saturation+"%, "+r.lightness+"%, 0%) 0%,\n                      hsl("+r.hue+"deg, "+r.saturation+"%, "+r.lightness+"%) 100%\n                      )"}}),h("span",{part:"slider-handle",class:"color-picker__slider-handle",style:{left:r.alpha+"%"},role:"slider","aria-label":"alpha","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":Math.round(r.alpha),tabIndex:r.disabled?null:0,onKeyDown:r.handleAlphaKeyDown}))),h("button",{ref:function(e){return r.previewButton=e},type:"button",part:"preview",class:"color-picker__preview color-picker__transparent-bg",style:{"--preview-color":"hsla("+r.hue+"deg, "+r.saturation+"%, "+r.lightness+"%, "+r.alpha/100+")"},onClick:r.handleCopy},h("sl-icon",{name:"check",class:{"color-picker__copy-feedback":true,"color-picker__copy-feedback--visible":r.showCopyFeedback,"color-picker__copy-feedback--dark":r.lightness>50}}))),h("div",{class:"color-picker__user-input"},h("sl-input",{ref:function(e){return r.input=e},part:"input",size:"small",type:"text",name:r.name,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:false,value:r.inputValue,disabled:r.disabled,onKeyDown:r.handleInputKeyDown,"onSl-change":r.handleInputChange}),!r.noFormatToggle&&h("sl-button",{exportparts:"base:format-button",size:"small",onClick:r.handleFormatToggle},r.setLetterCase(r.format))),r.swatches&&h("div",{part:"swatches",class:"color-picker__swatches"},r.swatches.map((function(e){return h("div",{part:"swatch",class:"color-picker__swatch color-picker__transparent-bg",tabIndex:r.disabled?null:0,role:"button","aria-label":e,onClick:function(){return!r.disabled&&r.setColor(e)},onKeyDown:function(t){return!r.disabled&&t.key==="Enter"&&r.setColor(e)}},h("div",{class:"color-picker__swatch-color",style:{backgroundColor:e}}))}))))};if(this.inline){return h(a,null)}return h("sl-dropdown",{ref:function(e){return r.dropdown=e},class:"color-dropdown","aria-disabled":this.disabled?"true":"false",containingElement:this.host,hoist:this.hoist,"onSl-show":this.handleDropdownShow,"onSl-after-show":this.handleDropdownAfterShow,"onSl-hide":this.handleDropdownHide,"onSl-after-hide":this.handleDropdownAfterHide},h("button",{ref:function(e){return r.trigger=e},part:"trigger",slot:"trigger",class:{"color-dropdown__trigger":true,"color-dropdown__trigger--disabled":this.disabled,"color-dropdown__trigger--small":this.size==="small","color-dropdown__trigger--medium":this.size==="medium","color-dropdown__trigger--large":this.size==="large","color-picker__transparent-bg":true},style:{color:"hsla("+this.hue+"deg, "+this.saturation+"%, "+this.lightness+"%, "+this.alpha/100+")"},type:"button"}),h(a,null))};Object.defineProperty(r.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(r,"watchers",{get:function(){return{format:["handleFormatChange"],opacity:["handleOpacityChange"],value:["handleValueChange"]}},enumerable:false,configurable:true});return r}();ColorPicker.style=colorPickerCss;export{ColorPicker as sl_color_picker};
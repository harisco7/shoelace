import{r as registerInstance,c as createEvent,h}from"./index-a0f9580d.js";import{c as clamp}from"./math-bea7b221.js";var imageComparerCss=":host{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}:host *,:host *:before,:host *:after{-webkit-box-sizing:inherit;box-sizing:inherit}:host{--divider-width:2px;--handle-size:2.5rem;display:block;position:relative}.image-comparer{max-width:100%;max-height:100%;overflow:hidden}.image-comparer__before,.image-comparer__after{pointer-events:none}.image-comparer__before ::slotted(img),.image-comparer__before ::slotted(svg),.image-comparer__after ::slotted(img),.image-comparer__after ::slotted(svg){display:block;max-width:100% !important;height:auto}.image-comparer__after{position:absolute;top:0;left:0;height:100%;width:100%}.image-comparer__divider{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;width:var(--divider-width);height:100%;background-color:var(--sl-color-white);-webkit-transform:translateX(calc(var(--divider-width) / -2));transform:translateX(calc(var(--divider-width) / -2));cursor:ew-resize}.image-comparer__handle{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:calc(50% - (var(--handle-size) / 2));width:var(--handle-size);height:var(--handle-size);background-color:var(--sl-color-white);border-radius:var(--sl-border-radius-circle);font-size:calc(var(--handle-size) * 0.5);color:var(--sl-color-gray-500);cursor:inherit;z-index:10}.image-comparer__handle:focus{outline:none;-webkit-box-shadow:0 0 0 1px var(--sl-color-primary-500), 0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary);box-shadow:0 0 0 1px var(--sl-color-primary-500), 0 0 0 var(--sl-focus-ring-width) var(--sl-focus-ring-color-primary)}";var ImageComparer=function(){function e(e){registerInstance(this,e);this.slChange=createEvent(this,"sl-change",7);this.position=50}e.prototype.handlePositionChange=function(){this.slChange.emit()};e.prototype.connectedCallback=function(){this.handleDrag=this.handleDrag.bind(this);this.handleKeyDown=this.handleKeyDown.bind(this)};e.prototype.handleDrag=function(e){var r=this;var t=this.base.getBoundingClientRect().width;function a(e,r,t){var a=function(e){var a=r.getBoundingClientRect();var i=a.left+r.ownerDocument.defaultView.pageXOffset;var o=a.top+r.ownerDocument.defaultView.pageYOffset;var n=(e.changedTouches?e.changedTouches[0].pageX:e.pageX)-i;var s=(e.changedTouches?e.changedTouches[0].pageY:e.pageY)-o;t(n,s)};a(e);var i=function(){document.removeEventListener("mousemove",a);document.removeEventListener("touchmove",a);document.removeEventListener("mouseup",i);document.removeEventListener("touchend",i)};document.addEventListener("mousemove",a);document.addEventListener("touchmove",a);document.addEventListener("mouseup",i);document.addEventListener("touchend",i)}this.handle.focus();e.preventDefault();a(e,this.base,(function(e){r.position=clamp(e/t*100,0,100)}))};e.prototype.handleKeyDown=function(e){if(["ArrowLeft","ArrowRight","Home","End"].includes(e.key)){var r=e.shiftKey?10:1;var t=this.position;e.preventDefault();if(e.key==="ArrowLeft")t=t-r;if(e.key==="ArrowRight")t=t+r;if(e.key==="Home")t=0;if(e.key==="End")t=100;t=clamp(t,0,100);this.position=t}};e.prototype.render=function(){var e=this;return h("div",{ref:function(r){return e.base=r},part:"base",class:"image-comparer",onKeyDown:this.handleKeyDown},h("div",{class:"image-comparer__image"},h("div",{part:"before",class:"image-comparer__before"},h("slot",{name:"before"})),h("div",{part:"after",class:"image-comparer__after",style:{clipPath:"inset(0 "+(100-this.position)+"% 0 0)"}},h("slot",{name:"after"}))),h("div",{ref:function(r){return e.divider=r},part:"divider",class:"image-comparer__divider",style:{left:this.position+"%"},onMouseDown:this.handleDrag,onTouchStart:this.handleDrag},h("div",{ref:function(r){return e.handle=r},part:"handle",class:"image-comparer__handle",role:"scrollbar","aria-valuenow":this.position,"aria-valuemin":"0","aria-valuemax":"100",tabIndex:0},h("sl-icon",{class:"image-comparer__handle-icon",name:"grip-vertical"}))))};Object.defineProperty(e,"watchers",{get:function(){return{position:["handlePositionChange"]}},enumerable:false,configurable:true});return e}();ImageComparer.style=imageComparerCss;export{ImageComparer as sl_image_comparer};
import{r as t,c as n,h as i,g as s}from"./p-bf36b983.js";var o=function(t,n,i,s){return new(i||(i=Promise))((function(o,c){function r(t){try{h(s.next(t))}catch(t){c(t)}}function e(t){try{h(s.throw(t))}catch(t){c(t)}}function h(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,e)}h((s=s.apply(t,n||[])).next())}))};const c=new Map;const r=class{constructor(i){t(this,i),this.slLoad=n(this,"sl-load",7),this.slError=n(this,"sl-error",7),this.html="",this.mode="cors",this.allowScripts=!1}handleSrcChange(){this.loadSource()}componentWillLoad(){this.loadSource()}executeScript(t){const n=document.createElement("script");[...t.attributes].map((t=>n.setAttribute(t.name,t.value))),n.textContent=t.textContent,t.parentNode.replaceChild(n,t)}loadSource(){return t=this,n=void 0,s=function*(){try{const t=this.src,n=yield((t,n="cors")=>o(void 0,void 0,void 0,(function*(){if(c.has(t))return c.get(t);{const i=fetch(t,{mode:n}).then((t=>o(void 0,void 0,void 0,(function*(){return{ok:t.ok,status:t.status,html:yield t.text()}}))));return c.set(t,i),i}})))(t,this.mode);if(t!==this.src)return;if(!n.ok)return void this.slError.emit({status:n.status});this.host.innerHTML=n.html,this.allowScripts&&[...this.host.querySelectorAll("script")].map((t=>this.executeScript(t))),this.slLoad.emit()}catch(t){this.slError.emit()}},new((i=void 0)||(i=Promise))((function(o,c){function r(t){try{h(s.next(t))}catch(t){c(t)}}function e(t){try{h(s.throw(t))}catch(t){c(t)}}function h(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,e)}h((s=s.apply(t,n||[])).next())}));var t,n,i,s}render(){return i("slot",null)}get host(){return s(this)}static get watchers(){return{src:["handleSrcChange"]}}};r.style=":host{display:block}";export{r as sl_include}
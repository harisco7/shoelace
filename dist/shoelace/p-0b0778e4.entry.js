import{r as t,c as i,h as s,g as n}from"./p-bf36b983.js";import{a as e,g as o,w as r}from"./p-6f2b1c03.js";const c=new Map;var h=function(t,i,s,n){return new(s||(s=Promise))((function(e,o){function r(t){try{h(n.next(t))}catch(t){o(t)}}function c(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(t){t(i)}))).then(r,c)}h((n=n.apply(t,i||[])).next())}))};const a=new DOMParser,l=class{constructor(s){t(this,s),this.slLoad=i(this,"sl-load",7),this.slError=i(this,"sl-error",7),this.library="default"}handleChange(){this.setIcon()}connectedCallback(){r(this.host)}componentDidLoad(){this.setIcon()}disconnectedCallback(){e(this.host)}redraw(){return h(this,void 0,void 0,(function*(){this.setIcon()}))}getLabel(){let t="";return this.label?t=this.label:this.name?t=this.name.replace(/-/g," "):this.src&&(t=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.svg/i,"")),t}setIcon(){return h(this,void 0,void 0,(function*(){const t=o(this.library);let i=this.src;if(this.name&&t&&(i=t.resolver(this.name)),i)try{const s=yield(t=>{if(c.has(t))return c.get(t);{const i=fetch(t).then((t=>{return i=void 0,s=void 0,e=function*(){if(t.ok){const i=document.createElement("div");i.innerHTML=yield t.text();const s=i.firstElementChild;return{ok:t.ok,status:t.status,svg:s&&"svg"===s.tagName.toLowerCase()?s.outerHTML:""}}return{ok:t.ok,status:t.status,svg:null}},new((n=void 0)||(n=Promise))((function(t,o){function r(t){try{h(e.next(t))}catch(t){o(t)}}function c(t){try{h(e.throw(t))}catch(t){o(t)}}function h(i){var s;i.done?t(i.value):(s=i.value,s instanceof n?s:new n((function(t){t(s)}))).then(r,c)}h((e=e.apply(i,s||[])).next())}));var i,s,n,e}));return c.set(t,i),i}})(i);if(s.ok){const i=a.parseFromString(s.svg,"text/html").body.querySelector("svg");i?(t&&t.mutator&&t.mutator(i),this.svg=i.outerHTML,this.slLoad.emit()):(this.svg="",this.slError.emit({status:s.status}))}}catch(t){this.slError.emit()}else this.svg&&(this.svg=null)}))}render(){return s("div",{part:"base",class:"icon",role:"img","aria-label":this.getLabel(),innerHTML:this.svg})}static get assetsDirs(){return["icons"]}get host(){return n(this)}static get watchers(){return{name:["handleChange"],src:["handleChange"],library:["handleChange"]}}};l.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%}";export{l as sl_icon}